/* =============== Base / Theme =============== */
html, body {
    height: 100%;
    overflow-x: hidden;    /* no horizontal scroll */
    overflow-y: auto;      /* allow vertical page scroll */
  }
  
  :root{
    --bg1:#dfeaf1; --bg2:#c6dbe7; --bg3:#8fa7b2; --bg4:#7fb6c9;
    --ink:#003049; --muted:#4a5759;
    --btn:#219ebc; --btnHover:#669bbc;
    --glass: rgba(255,255,255,.90);
    --radius:20px; --shadow:0 10px 30px rgba(0,0,0,.12);
  }
  
  @keyframes rippleGradient{
    0%{background-position:0% 50%}
    25%{background-position:50% 50%}
    50%{background-position:100% 50%}
    75%{background-position:50% 50%}
    100%{background-position:0% 50%}
  }
  
  /* =============== Page =============== */
  .stocks-page {
    min-height: 100vh;
    width: 100vw;
    font-family: 'Poppins', sans-serif;
    background: none;
    background-size: 800% 800%;
    animation: rippleGradient 20s ease infinite;
  
    display: flex;
    flex-direction: column;
    align-items: center;
  
    padding-top: 8px;       /* move content slightly up */
    padding-bottom: 24px;
    box-sizing: border-box;
  }
  
  .stocks-page h2{
    margin: 0 0 12px;
    font-weight: 700;
    letter-spacing: .3px;
    color: var(--ink);
    text-align: center;
  }
  
  /* =============== Inputs (Form) =============== */
  .stocks-page form{
    background: var(--glass);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(0,0,0,.06);
    border-radius: var(--radius);
    padding: 16px;                        /* a bit tighter = sits higher */
    display: flex; gap: 12px; flex-wrap: wrap; align-items: center;
    box-shadow: var(--shadow);
    width: min(1100px, 100%);
    margin-bottom: 16px;                  /* space below inputs */
  }
  
  .stocks-page input, .stocks-page select{
    background: rgba(255,255,255,.9);
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 12px; padding: 10px 12px; font-size: .95rem; outline: none; min-width: 160px;
    box-shadow: inset 0 2px 6px rgba(0,0,0,.06);
  }
  
  .stocks-page button[type="submit"]{
    background: var(--btn); color:#fff; border:none; border-radius:12px; padding:10px 18px;
    font-weight:700; cursor:pointer; transition:background .25s ease, color .25s ease, transform .06s ease;
  }
  .stocks-page button[type="submit"]:hover{ background:var(--btnHover); color:#000 }
  .stocks-page button[type="submit"]:active{ transform:translateY(1px) }
  
  /* Error bubble */
  .stocks-page p[style*="color: red"]{
    margin-top:12px; background:rgba(255,255,255,.9); padding:10px 14px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,.08);
  }
  
  /* =============== Main Layout =============== */
  /* left column (chart + stats) and a fixed-width right column (news) */
  .stocks-layout {
    width: min(1100px, 100%);
    display: grid;
    grid-template-columns: minmax(0, 1fr) 420px; /* chart/stats | news (narrow) */
    gap: 24px;                                   /* space between containers */
    align-items: start;
  }
  
  /* Shared card styling */
  .card{
    background: var(--glass);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(0,0,0,.06);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 16px;
  }
  
  /* =============== Chart Card =============== */
  .chart-card{
    position: relative;
    height: 360px;
    overflow: hidden;
  }
  .chart-box{
    position: absolute; inset: 12px;
  }
  .chart-box canvas{ height:100% !important; width:100% !important; }
  
  /* =============== Statistics Card =============== */
  .stats-card{ 
    margin-top: 12px;               /* slightly closer to chart */
    max-height: 200px;              /* shorter stats box */
    overflow-y: auto;               /* scroll if content exceeds height */
  }
  
  .stats-card h3{
    margin: 0 0 10px;
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
    border-bottom: 1px solid rgba(0,0,0,.06);
    padding-bottom: 6px;
  }
  
  .stats-box{
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  .stat-item{
    flex: 1 1 180px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    background: #fff;
    border: 1px solid rgba(0,0,0,.06);
    border-radius: 12px;
    min-width: 180px;
  }
  
  
  /* === News Section Title === */
  .news-title{
    grid-column: 2 / 3;
    grid-row: 1;           /* same grid row as the left column */
    align-self: start;
    margin: 0 0 6px 0;     /* tiny gap above the box */
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
  }
  
  /* News box visible + tall, sits just under the title */
  .news-card{
    grid-column: 2 / 3;
    grid-row: 1;                 /* share the left column's row */
    align-self: stretch;         /* match the left column height */
    margin-top: 28px;            /* space below the title */
    min-height: 240px;           /* ensures it shows even with few items */
    max-height: none;            /* let it grow with the left column */
    overflow-y: auto;            /* vertical scroll only */
    overflow-x: hidden;          /* no horizontal scroll */
    width: 100%;                 /* fit the 420px column from .stocks-layout */
    max-width: 100%;
    box-sizing: border-box;
    display: block;
    flex-direction: column;  /* stack vertically */
    align-items: stretch;    /* make each fill the width */

  }
  
  /* Inner container for vertical stacking */
.news-list{
    display: flex;
    flex-direction: column;   /* stack vertically */
    gap: 10px;                 /* space between articles */
  }
  /* Put the title visually above the rounded box */
  .news-card > h3{
    position: absolute;
    top: -34px;
    left: 0;
    margin: 0;
    padding: 0;
    background: transparent;
    border: 0;
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
  }
  
  /* Article item */
  .news-item{
    display: block;
    width: 100%;
    text-decoration: none;
    color: inherit;
    background: #fff;
    border: 1px solid rgba(0,0,0,.06);
    border-radius: 14px;
    padding: 12px 14px;
    margin: 2px 0;
    box-shadow: 0 6px 16px rgba(0,0,0,.08);
    transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
  }
  .news-item:hover{
    transform: translateY(-2px);
    box-shadow: 0 10px 24px rgba(0,0,0,.14);
    background: #fff;
  }
  .news-item:focus{
    outline: 2px solid var(--btn);
    outline-offset: 2px;
  }
  
  .headline{
    font-weight: 700;
    font-size: .95rem;
    line-height: 1.25rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    word-break: break-word;
  }
  .meta{
    margin-top: 6px;
    font-size: .82rem;
    color: #6b7280;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  /* Pretty scrollbars inside the news panel only */
  .news-card::-webkit-scrollbar{ width: 8px; height: 8px; }
  .news-card::-webkit-scrollbar-track{ background: transparent; }
  .news-card::-webkit-scrollbar-thumb{
    background: rgba(0,0,0,.18);
    border-radius: 8px;
  }
  .news-card:hover::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.28); }
  
  /* =============== Responsive =============== */
  @media (max-width: 900px){
    .stocks-layout{
      grid-template-columns: 1fr;   /* stack everything */
    }
    .news-card{
      grid-column: 1 / -1;
      margin-top: 24px;
      max-height: 320px;            /* still scrollable */
    }
  }
  





  /* --- Right-column title --- */
.news-title{
    grid-column: 2 / 3;
    grid-row: 1;
    align-self: start;
    margin: 0 0 6px 0;
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
  }
  
  /* --- News card: scrollable vertical container, no horizontal overflow --- */
  .news-card{
    grid-column: 2 / 3;
    grid-row: 1;
    position: relative;
    display: block;                 /* ensure scroll works */
    width: 100%;
    max-width: 100%;
    margin-top: 28px;               /* sits under the title */
    padding-top: 20px;                  /* inner padding for cards */
    box-sizing: border-box;
  
    /* height tuned to viewport; adjust 260px if your header/form changes */
    height: calc(100vh - 260px);
    min-height: 260px;
    overflow-y: auto;               /* <-- vertical scroll */
    overflow-x: hidden;             /* <-- no horizontal scroll */
  }
  
  /* --- Inner vertical stack with spacing (uses gap, not margins) --- */
  .news-list{
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow-y: auto;
  }
  
  /* --- Article cards: keep inside the box --- */
  .news-item{
    display: block;
    width: 100%;
    max-width: 100%;
    text-decoration: none;
    color: inherit;
  
    background: #fff;
    border: 1px solid rgba(0,0,0,.06);
    border-radius: 14px;
    padding: 12px 14px;
    box-sizing: border-box;         /* prevents overflow from padding */
    box-shadow: 0 6px 16px rgba(0,0,0,.08);
    transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
  }
  /* remove outer margins so they never push outside the container */
  .news-item:first-child,
  .news-item:last-child{ margin: 0; }
  
  .news-item:hover{
    transform: translateY(-2px);
    box-shadow: 0 10px 24px rgba(0,0,0,.14);
    background: #fff;
  }
  
  /* Keep long headlines tidy */
  .headline{
    font-weight: 700;
    font-size: .95rem;
    line-height: 1.25rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    word-break: break-word;
  }
  
  .meta{
    margin-top: 6px;
    font-size: .82rem;
    color: #6b7280;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  /* Mobile: stack title + card full width */
  @media (max-width: 900px){
    .news-title,
    .news-card{
      grid-column: 1 / -1;
      grid-row: auto;
      height: 320px;               /* still scrollable on small screens */
    }
  }

  
  /* 1) Don't apply sticky/title styles to news anymore */
.stats-card h3{
    margin: 0 0 12px;
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
    border-bottom: 1px solid rgba(0,0,0,.06);
    padding-bottom: 6px;
  }
  .news-card h3{ all: unset; }  /* in case any h3 ends up inside later */
  
  
  
  /* 3) Ensure the first article never sits flush with the rounded edge */
  .news-list{ padding-top: 2px; }
  .news-card .news-item:first-child { margin-top: 21950px; }
  